<odoo>
  <data>

<!-- explicit list view definition -->
<record model="ir.ui.view" id="demo_list_view">
    <field name="name">demo list</field>
    <field name="model">demo.demo</field>
    <field name="arch" type="xml">
        <tree>
            <field name="name"/>
            <field name="user_id" string="Salesperson"/>
<!--            groups="base.group_multi_user"-->
            <field name="partner_id" string="Client"/>
            <field name="date"/>
            <field name="state_id"/>
        </tree>
    </field>
</record>


<!-- explicit pivot view definition -->
    <record model="ir.ui.view" id="demo_pivot_view">
    <field name="name">demo pivot</field>
    <field name="model">demo.demo</field>
    <field name="arch" type="xml">
        <pivot>
            <field name="user_id" type="col"/>
            <field name="partner_id" type="row"/>
        </pivot>
    </field>
</record>

<!-- explicit graph view definition -->
    <record model="ir.ui.view" id="demo_graph_view">
    <field name="name">demo graph</field>
    <field name="model">demo.demo</field>
    <field name="arch" type="xml">
        <graph string="Demo Analysis" type="line" sample="1">
            <field name="date" interval="day"/>
            <field name="name" type="measure"/>
        </graph>
    </field>
</record>

<!-- explicit kanban view definition -->
<record model="ir.ui.view" id="demo_kanban_view">
    <field name="name">Demo Kanban</field>
    <field name="model">demo.demo</field>
    <field name="arch" type="xml">
        <kanban default_group_by="state_id" class="o_kanban_small_column" create="true">
            <field name="name"/>
            <field name="partner_id" string="Client"/>
            <field name="state_id"/>
            <field name="date"/>
            <templates>
                <t t-name="kanban-box">
                    <div class="oe_kanban_global_click oe_kanban_card d-flex flex-column">
                        <div class="oe_kanban_content flex-grow-1">
                            <div class="o_kanban_record_title oe_kanban_details">
                                <strong><field name="name"/></strong>
                            </div>
                            <div>
                                Client:
                                <span class="o_text_overflow" t-if="record.partner_id.value" t-esc="record.partner_id.value"/>
                            </div>
                            <div>
                                Date:
                                <field name="date"/>
                            </div>
                        </div>
                    </div>
                </t>
            </templates>
        </kanban>
    </field>
</record>

<!-- form view for demo -->
<record model="ir.ui.view" id="demo_form_view">
    <field name="name">demo.form.view</field>
    <field name="model">demo.demo</field>
    <field name="arch" type="xml">
        <form class="o_demo_demo_form">
            <sheet>
                <div class="oe_title">
                    <label for="name"/>
                    <h1><field class="o_text_overflow" name="name"/></h1>
                </div>
                <group>
                    <group string="Info" name="info">
                        <field name="user_id" string="Salesperson"/>
                        <field name="partner_id" string="Client"/>
                        <field name="date"/>
                        <field name="state_id"/>
                    </group>
                </group>
                <notebook>
                    <page string="Description" id="description" class="description">
                        <field name="description"/>
                    </page>
                </notebook>
            </sheet>
            <div class="oe_chatter">
                <field name="message_follower_ids" groups="base.group_user"/>
                <field name="message_ids"/>
            </div>
        </form>
    </field>
</record>


      <!-- explicit search view definition -->
<record model="ir.ui.view" id="demo_search_view">
    <field name="name">demo search</field>
    <field name="model">demo.demo</field>
    <field name="arch" type="xml">
        <search>
            <filter name="group_state_id" string="State" context="{'group_by': 'state_id'}"/>
            <filter name="group_partner_id" string="Client" context="{'group_by': 'partner_id'}"/>
            <filter name="group_user_id" string="Salesperson" context="{'group_by': 'user_id'}"/>
        </search>
    </field>
</record>

<!-- STATES TREE VIEW + MULTI_EDIT -->
    <record id="demo_state_tree" model="ir.ui.view">
        <field name="name">demo.state.tree</field>
        <field name="model">demo.state</field>
        <field name="arch" type="xml">
            <tree string="States" multi_edit="1">
                <field name="sequence" widget="handle"/>
                <field name="name" readonly="1"/>
                <field name="is_won"/>
            </tree>
        </field>
    </record>

    <record id="demo_state_form" model="ir.ui.view">
        <field name="name">demo.state.form</field>
        <field name="model">demo.state</field>
        <field name="priority" eval="1"/>
        <field name="arch" type="xml">
            <form string="State">
                <sheet>
                    <div class="oe_title">
                        <label for="name"/>
                        <h1>
                            <field name="name" placeholder="e.g. Negotiation"/>
                        </h1>
                    </div>
                    <group>
                        <group>
                            <field name="is_won"/>
                            <field name="fold"/>
                        </group>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

<!-- actions opening views on models -->
    <record model="ir.actions.act_window" id="action_demo">
        <field name="name">Demo</field>
        <field name="res_model">demo.demo</field>
        <field name="view_mode">kanban,tree,form,pivot,graph</field>
    </record>

      <record model="ir.actions.act_window" id="action_view_my_demos">
        <field name="name">My Demos</field>
        <field name="res_model">demo.demo</field>
        <field name="view_mode">kanban,tree,form</field>
<!--        <field name="context">{'search_default_user_id': active_id}</field>-->
<!--        <field name="context">{'search_default_user_id': [active_id], 'default_user_id': active_id}</field>-->
    </record>

    <record model="ir.actions.act_window" id="action_demo_states">
        <field name="name">States</field>
        <field name="res_model">demo.state</field>
        <field name="view_mode">tree,form</field>
    </record>


    <!-- menu -->
    <menuitem name="Demo" id="menu_root">
        <menuitem name="Demo" id="demo">
            <menuitem name="All Demos" id="menu_demo" action="action_demo"/>
        </menuitem>
        <menuitem name="My Demos" id="my_demos">
            <menuitem name="My Demos" id="menu_my_demos" action="action_view_my_demos"/>
        </menuitem>
        <menuitem name="Configuration" id="configuration">
            <menuitem name="States" id="menu_demo_states" action="action_demo_states"/>
        </menuitem>
    </menuitem>

  </data>
</odoo>
