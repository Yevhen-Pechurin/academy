<odoo>
    <data>
        <!-- action for all books -->
        <record id="all_books_action" model="ir.actions.act_window">
            <field name="name">Books</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">library.book</field>
            <field name="view_mode">tree,kanban,form</field>
        </record>

        <!-- action for ready books -->
        <record id="ready_books_action" model="ir.actions.act_window">
            <field name="name">Books</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">library.book</field>
            <field name="view_mode">tree,kanban,form</field>
            <field name="domain"> [('status', '=', 'ready')]</field>
        </record>
        <record id="view_form_todo_task_inherited" model="ir.ui.view">
            <field name="name">Test</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="base.view_partner_form"/>
            <field name="arch" type="xml">
                <!-- to insert your fields at the end of the list -->
                <xpath expr="//form/sheet/div[hasclass('oe_button_box')]" position="inside">
                     <field name="books_count" invisible="1" />

                    <button type="object" name="actionget" icon="fa-book"  >
                        <field string="Books" name="books_count" widget="statinfo"></field>
                    </button>
                </xpath>
            </field>
        </record>

        <!-- action for books which are user by partners right now-->
        <record id="are_used_books_action" model="ir.actions.act_window">
            <field name="name">Books</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">library.book</field>
            <field name="view_mode">tree,kanban,form</field>
            <field name="domain"> [('status', '=', 'are_used')]</field>
        </record>

        <!-- tree view for books -->
        <record id="books_tree_view" model="ir.ui.view">
            <field name="name">library.book.tree</field>
            <field name="model">library.book</field>
            <field name="arch" type="xml">
                <tree>

                    <field name="name"/>
                    <field name="authors_id"/>
                    <field name="tags" widget="many2many_tags" options="{'color_field':'color'}"/>
                    <field name="code"/>

                </tree>
            </field>
        </record>

        <!-- form view for books -->
        <record id="books_form_view" model="ir.ui.view">

            <field name="name">library.book.form</field>
            <field name="model">library.book</field>
            <field name="arch" type="xml">
                <form>
                    <header>
                        <field name="status" widget="statusbar"/>
                        <button name="action_on_hand" string="On Hand" class="oe_highlight" type="object"
                                attrs="{'invisible':[('status','=','are_used')]}"/>
                        <button name="action_get" string="Get" class="oe_highlight" type="object"
                                attrs="{'invisible':[('status','=','ready')]}"/>
                    </header>
                    <sheet>
                        <div class="oe_title">
                            <h1><field name="name"/></h1>
                        </div>
                        <group string="Info">
                            <field name="books_id"/>
                            <field name="code"/>
                            <field name="authors_id"/>
                            <field name="tags" widget="many2many_tags" options="{'color_field':'color'}"/>
                        </group>
                        <group string="Partner">
                            <field name="partner_id"/>
                        </group>
                        <notebook>
                            <page string="Description"><field name="description"/></page>
                            <page string="History">
                                <field name="history_ids">
                                    <tree create="false" edit="false">
                                        <field name="partner_id"></field>
                                        <field name="due_date"></field>
                                        <field name="end"></field>
                                    </tree>
                                </field>
                            </page>

                        </notebook>

                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids"/>

                        <field name="message_ids" options="{'post_refresh': 'recipients'}"/>
                    </div>

                </form>
            </field>
        </record>

        <!-- action for books info -->
        <record id="info_action" model="ir.actions.act_window">
            <field name="name">Info</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">library.info</field>
            <field name="view_mode">tree,kanban,form</field>
        </record>

        <!-- tree view for books info -->
        <record id="books_info_tree_view" model="ir.ui.view">
            <field name="name">library.info.tree</field>
            <field name="model">library.info</field>
            <field name="arch" type="xml">
                <tree>
                    <field name="name"/>
                    <field name="authors_id"/>
                    <field name="tags" widget="many2many_tags" options="{'color_field':'color'}"/>
                    <field name="code"/>
                </tree>
            </field>
        </record>

        <!-- form view for books info -->
        <record id="books_info_form_view" model="ir.ui.view">
            <field name="name">library.info.form</field>
            <field name="model">library.info</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <div class="oe_title">
                            <h1><field name="name"/></h1>
                        </div>
                        <group string="Info">
                            <field name="authors_id"/>
                            <field name="code"/>
                            <field name="tags" widget="many2many_tags" options="{'color_field':'color'}"/>
                        </group>
                        <notebook>
                            <page string="description"><field name="description"/></page>
                        </notebook>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids"/>

                        <field name="message_ids" options="{'post_refresh': 'recipients'}"/>
                    </div>
                </form>
            </field>
        </record>

        <!-- action for authors-->
        <record id="authors_action" model="ir.actions.act_window">
            <field name="name">Authors</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">library.authors</field>
            <field name="view_mode">tree,kanban,form</field>
        </record>

        <!-- tree view for authors -->
        <record id="authors_tree_view" model="ir.ui.view">
            <field name="name">library.authors.tree</field>
            <field name="model">library.authors</field>
            <field name="arch" type="xml">
                <tree>
                    <field name="name"/>
                    <field name="year"/>
                    <field name="books_count"/>
                </tree>
            </field>
        </record>

        <!-- form view for authors -->
        <record id="authors_form_view" model="ir.ui.view">
            <field name="name">library.authors.form</field>
            <field name="model">library.authors</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <div class="oe_title">
                            <h1><field name="name"/></h1>
                        </div>
                        <group string="Info">
                            <field name="year"/>
                            <field name="books_count"/>
                        </group>
                        <notebook>
                            <page string="Books"><field name="books_ids"/></page>
                        </notebook>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids"/>
                        <field name="message_ids" options="{'post_refresh': 'recipients'}"/>
                    </div>
                </form>
            </field>
        </record>

        <!-- menues -->
        <menuitem id="library_menu" name="Library" sequence="1"/>
        <menuitem id="books_menu" name="Books" parent="library_menu" sequence="1"/>
        <menuitem id="authors_menu" name="Authors" action="authors_action" parent="library_menu" sequence="2"/>
        <menuitem id="info_menu" name="Info" action="info_action" parent="library_menu" sequence="3"/>
        <menuitem id="all_books_menu" name="All" action="all_books_action" parent="books_menu" sequence="1"/>
        <menuitem id="ready_books_menu" name="Ready" action="ready_books_action" parent="books_menu" sequence="2"/>
        <menuitem id="are_used_books_menu" name="Are Used" action="are_used_books_action" parent="books_menu"
                  sequence="3"/>
    </data>
</odoo>